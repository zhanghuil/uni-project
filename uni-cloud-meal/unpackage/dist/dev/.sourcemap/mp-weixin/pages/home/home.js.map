{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/HBuilderX/uni-cloud-meal/pages/home/home.vue?8d8a","webpack:///E:/HBuilderX/uni-cloud-meal/pages/home/home.vue?441c","webpack:///E:/HBuilderX/uni-cloud-meal/pages/home/home.vue?5d2d","uni-app:///pages/home/home.vue","webpack:///E:/HBuilderX/uni-cloud-meal/pages/home/home.vue?b2cc","webpack:///E:/HBuilderX/uni-cloud-meal/pages/home/home.vue?c569"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yF;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AAC6K;AAC7K,gBAAgB,qLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,0MAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAsoB,CAAgB,spBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2P1pB,gE;;;;;;;AAOA;AACA;AACA,sBADA;AAEA,4BAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA,qBADA;AAEA,eAFA;AAGA,mBAHA;AAIA,kBAJA;;AAMA,oBANA;AAOA,uBAPA;;AASA,sBATA,EASA;AACA,oBAVA;;AAYA,qBAZA;AAaA,oBAbA,EAaA;AACA,gBAdA;AAeA,uBAfA;;AAiBA,mBAjBA,EAiBA;AACA,iBAlBA,EAkBA;;AAEA,kBApBA,EAoBA;AACA,6BArBA;AAsBA,mBAtBA;AAuBA;AACA,gBADA;AAEA,gBAFA;AAGA,kBAHA;AAIA,qBAJA;AAKA,iBALA,EAvBA;;AA8BA,iBA9BA,EA8BA;AACA,qBA/BA;AAgCA,kBAhCA,EAgCA;AACA,2BAjCA;AAkCA,uBAlCA,EAkCA;AACA,oBAnCA,EAmCA;AACA,0BApCA,EAoCA;AACA,wBArCA,EAqCA;AACA,4BAtCA,EAsCA;AACA,iBAvCA,CAuCA;AAvCA;;AA0CA,GAhDA;AAiDA,QAjDA,kBAiDA,OAjDA,EAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAzDA;AA0DA;AACA,mBADA,6BACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAZA;AAaA,eAbA,yBAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,6BADA;AAEA,wBAFA;;AAIA;AACA;AACA,SAFA;;AAIA;AACA;AACA,6BADA;AAEA,sCAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,KA1CA;AA2CA,qBA3CA,+BA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlDA;AAmDA,cAnDA,wBAmDA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KA1DA;AA2DA,cA3DA,wBA2DA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAnEA;AAoEA,gBApEA,0BAoEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBADA;AAEA,iEAFA;AAGA,wCAHA;;AAKA;AACA;AACA,KAjFA,EA1DA;;AA6IA;AACA,eADA,uBACA,IADA,EACA;AACA;AACA;AACA,KAJA;AAKA,eALA,uBAKA,IALA,EAKA;AACA;AACA;AACA,KARA,EA7IA;;AAuJA;AACA;AACA,gBAFA,wBAEA,EAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBATA,EASA,iBATA,EADA;AAWA,KAbA;AAcA;AACA,aAfA,qBAeA,CAfA,EAeA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAtBA;AAuBA;AACA,aAxBA,uBAwBA;AACA;AACA,6BADA;AAEA,8BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,mDAVA,CAUA;;AAEA;AACA,kDADA;AAEA,0CAFA;AAGA,2CAfA,CAeA;;AAEA;AACA;;AAEA,aApBA;AAqBA,WAtBA;AAuBA,SAxBA;AAyBA;AACA;;AAEA;AACA;AACA,SAFA;AAGA,OApCA,EAoCA;AACA;AACA,OAtCA;AAuCA,KApEA;AAqEA;AACA,iBAtEA,yBAsEA,IAtEA,EAsEA;AACA;AACA;AACA,iCADA;;AAGA;AACA;AACA,OAFA,EAEA,iBAFA;AAGA;AACA,KA/EA;AAgFA;AACA,WAjFA,mBAiFA,IAjFA,EAiFA;AACA;AACA;AACA;AACA;AACA;AACA,uCAFA;AAGA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA;AACA;AACA,OARA,MAQA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6CADA;AAEA,qCAFA;AAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAvHA;AAwHA;AACA,gBAzHA,wBAyHA,IAzHA,EAyHA;AACA;AACA;AACA;AACA;AACA,uCAFA;;AAIA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA;AACA;AACA,2CAFA;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6CADA;AAEA,qCAFA;AAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;;AAEA;;AAEA,KA9JA;AA+JA;AACA,kBAhKA,0BAgKA,IAhKA,EAgKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SARA;;AAUA;AACA,KA9KA;AA+KA;AACA,SAhLA,mBAgLA;AACA;AACA;AACA,yBADA;AAEA,wBAFA;AAGA,yBAHA;AAIA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA,WALA,MAKA;AACA;AACA;AACA,SAbA;;AAeA,KAjMA;AAkMA;AACA,cAnMA,wBAmMA;AACA;AACA;AACA;AACA;AACA,KAxMA;AAyMA,YAzMA,sBAyMA;AACA;AACA,KA3MA;AA4MA;AACA,iBA7MA,2BA6MA;AACA;AACA,yCADA;AAEA;AACA;AACA,SAJA;;AAMA,KApNA;AAqNA,eArNA,yBAqNA;AACA;AACA,KAvNA;AAwNA,aAxNA,qBAwNA,CAxNA,EAwNA;AACA;AACA;AACA;AACA,KA5NA;AA6NA,aA7NA,qBA6NA,CA7NA,EA6NA;AACA;AACA,KA/NA;AAgOA,iBAhOA,yBAgOA,CAhOA,EAgOA;AACA;AACA;AACA,KAnOA;AAoOA,kBApOA,0BAoOA,CApOA,EAoOA;AACA;AACA;AACA,KAvOA;AAwOA;AACA,WAzOA,mBAyOA,CAzOA,EAyOA;AACA;AACA;AACA;AACA;AACA,KA9OA;AA+OA;AACA,gBAhPA,0BAgPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA;AACA,OAPA;AAQA,KA9PA;AA+PA;AACA,gBAhQA,wBAgQA,KAhQA,EAgQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtRA;AAuRA;;AAEA,WAzRA,qBAyRA;AACA;AACA,KA3RA;AA4RA,YA5RA,sBA4RA;AACA;AACA;AACA,KA/RA;AAgSA;;;;AAIA,eApSA,yBAoSA;AACA;AACA;AACA;AACA;AACA;AACA,yEADA;;AAGA,KA5SA,EAvJA,E;;;;;;;;;;;;;AClQA;AAAA;AAAA;AAAA;AAAwqC,CAAgB,goCAAG,EAAC,C;;;;;;;;;;;ACA5rC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/home.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=92bb8f34&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/home.vue\"\nexport default component.exports","export * from \"-!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=92bb8f34&\"","var components = {\n  cartcontrol: function() {\n    return import(\n      /* webpackChunkName: \"components/cartcontrol/cartcontrol\" */ \"@/components/cartcontrol/cartcontrol.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.selectFoods, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var f0 = _vm._f(\"filtersDate\")(item.orderDate.replace(/\\\"/g, \"\"))\n\n    var f1 = _vm._f(\"filtersWeek\")(item.orderDate.replace(/\\\"/g, \"\"))\n\n    return {\n      $orig: $orig,\n      f0: f0,\n      f1: f1\n    }\n  })\n\n  var l2 = _vm.__map(_vm.selectFoods, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var l1 =\n      _vm.shopcartCur == index\n        ? _vm.__map(item.repeatList, function(rep, repIndex) {\n            var $orig = _vm.__get_orig(rep)\n\n            var g0 = rep.repeatName.replace(/\\\"/g, \"\")\n            return {\n              $orig: $orig,\n              g0: g0\n            }\n          })\n        : null\n    return {\n      $orig: $orig,\n      l1: l1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l2: l2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<image src=\"../../static/image/meal/timg.jpg\" mode=\"center\" class=\"response\"></image>\r\n\t\t<cu-custom bgColor=\"bg-hyaline\" :isBack=\"true\">\r\n\t\t\t<block slot=\"backText\"></block>\r\n\t\t\t<block slot=\"content\">在线订餐</block>\r\n\t\t</cu-custom>\r\n\r\n\t\t<!-- <view class=\"response\"></view> -->\r\n\t\t<view class=\"topWrapper\">\r\n\t\t\t<view class=\"homeTop\">\r\n\t\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t\t<view class=\"logoImg\">\r\n\t\t\t\t\t\t<image class=\"img\" :src=\"storeInfo.logo\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"R\">\r\n\t\t\t\t\t\t<view class=\"flex justify-between\">\r\n\t\t\t\t\t\t\t<view class=\"text-cut\">{{storeInfo.name}}</view>\r\n\t\t\t\t\t\t\t<view class=\"phoneCon flex align-center\" @tap=\"makePhoneCall\">\r\n\t\t\t\t\t\t\t\t<image class=\"pimg\" mode=\"scaleToFill\" src=\"../../static/image/meal/phone.png\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"notice flex align-start\" @click=\"showModal\" data-target=\"shopNoticeModal\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<image class=\"nimg\" mode=\"scaleToFill\" src=\"../../static/image/meal/notice.png\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"white_space_line_2\">{{storeInfo.notice}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 切换日期 -->\r\n\t\t<scroll-view scroll-x class=\"nav dateCard\" scroll-with-animation :scroll-left=\"scrollLeft\" v-show=\"newOrderDate\">\r\n\t\t\t<view class=\"cu-item\" :class=\"index==TabCur?'cur':''\" v-for=\"(item,index) in newOrderDate\" :key=\"index\" @tap=\"tabSelect\"\r\n\t\t\t :data-date=\"item.date\" :data-id=\"index\">\r\n\t\t\t\t{{item.dateStr}}<text class=\"week\">{{item.week}}</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<!-- 餐次 -->\r\n\t\t<scroll-view scroll-x class=\"nav mealTimes\" scroll-with-animation :scroll-left=\"scrollMLeft\">\r\n\t\t\t<view class=\"cu-item\" :class=\"item.serviceTypeId==mealRepastCur?'cur':''\" v-for=\"(item,index) in currentMenuList\"\r\n\t\t\t :key=\"index\" @tap=\"mealTimeSelect\" :data-id=\"item.serviceTypeId\">\r\n\t\t\t\t{{item.serviceTypeName}}\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<!-- 菜谱列表start-->\r\n\t\t<view class=\"verticalBox\" v-for=\"(itemRepast,indexRepast) in currentMenuList\" :key=\"indexRepast\" v-if=\"mealRepastCur == itemRepast.serviceTypeId&&currentMenuList.length > 0\">\r\n\t\t\t<!-- 左侧列表 -->\r\n\t\t\t<scroll-view class=\"VerticalNav nav\" scroll-y scroll-with-animation :scroll-top=\"verticalNavTop\" style=\"height:calc(100vh - 658upx)\">\r\n\t\t\t\t<view class=\"cu-item\" :class=\"index==currentLeft?'cur':''\" v-for=\"(item,index) in itemRepast.categoryList\" :key=\"index\"\r\n\t\t\t\t @tap=\"leftTap\" :data-index='index'>\r\n\t\t\t\t\t{{item.categoryName}}\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!-- 右侧列表 -->\r\n\t\t\t<scroll-view class=\"VerticalMain\" scroll-y scroll-with-animation :scroll-into-view=\"'main-'+mainCur\" @scroll=\"verticalMain\"\r\n\t\t\t style=\"height:calc(100vh - 658upx)\" :scroll-top=\"scrollTop\">\r\n\t\t\t\t<view class=\"padding-lr mainMeal\" v-for=\"(item,index) in itemRepast.categoryList\" :key=\"index\" :id=\"'main-'+index\">\r\n\t\t\t\t\t<view class=\"title\">{{item.categoryName}}</view>\r\n\t\t\t\t\t<view class=\"menuList\">\r\n\t\t\t\t\t\t<view class=\"item\" v-for=\"(food,idx) in item.productList\" :key=\"idx\" @tap=\"productDetail(food)\">\r\n\t\t\t\t\t\t\t<view class=\"panel_left\">\r\n\t\t\t\t\t\t\t\t<image :src=\"food.img ? food.img : '../../static/image/meal/default.png'\" lazy-load=\"true\"></image>\r\n\t\t\t\t\t\t\t\t<!-- <text class=\"tag\">建议少食</text> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"panel_right\">\r\n\t\t\t\t\t\t\t\t<view class=\"mealName white_space_line_2\">{{food.productName}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"food.surplus==0\" class=\"flex align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"tipImg\" src=\"../../static/image/meal/tip.png\"></image>已售罄\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else>还剩{{food.surplus}}份</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"mealCon\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex justify-between align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"price\">¥<text class=\"f18\">{{food.price}}</text></view>\r\n\t\t\t\t\t\t\t\t\t\t<cartcontrol @add=\"addFood\" @decrease=\"decreaseFood\" :foodInfo=\"food\"></cartcontrol>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!-- end -->\r\n\t\t</view>\r\n\t\t<!-- 菜谱列表 end -->\r\n\t\t<!-- 今日歇业 -->\r\n\t\t<view class=\"blankContent\" v-if=\"currentMenuList.length == 0\">\r\n\t\t\t<image class=\"img\" src=\"../../static/image/meal/blank.png\"></image>\r\n\t\t\t<view>今日歇业<br />\r\n\t\t\t\t暂不对外营业</view>\r\n\t\t</view>\r\n\t\t<!-- 店铺公告 -->\r\n\t\t<view class=\"cu-modal bottom-modal\" style=\"z-index: 1112;\" :class=\"modalName=='shopNoticeModal'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog shopNoticeDialog\">\r\n\t\t\t\t<view class=\"top\" @tap=\"hideModal\">\r\n\t\t\t\t\t<view class=\"txt text-cut text-left\">{{storeInfo.name}}</view>\r\n\t\t\t\t\t<view class=\"cuIcon-close\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t\t\t<image class=\"nImg\" src=\"../../static/image/meal/notice.png\"></image>店铺公告\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<scroll-view scroll-y=\"true\" class=\"txt\">\r\n\t\t\t\t\t\t{{storeInfo.notice}}\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 菜肴详情 -->\r\n\t\t<view class=\"cu-modal drawer-modal justify-end\" style=\"z-index: 1112;\" :class=\"modalName=='DrawerModalR'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog basis-lg foodDescDiv\">\r\n\t\t\t\t<scroll-view scroll-y=\"true\" class=\"foodDescScroll\">\r\n\t\t\t\t\t<view class=\"headImg\">\r\n\t\t\t\t\t\t<image class=\"foodImg\" src=\"../../static/image/meal/default.png\" lazy-load=\"true\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t<image @tap.stop=\"hideModal\" class=\"closeImg\" src=\"../../static/image/meal/close.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"foodDesWrap\">\r\n\t\t\t\t\t\t<view class=\"name text-bold\">{{proDetailInfo.name}}</view>\r\n\t\t\t\t\t\t<view class=\"hd\">\r\n\t\t\t\t\t\t\t<view class=\"L flex align-center\">\r\n\t\t\t\t\t\t\t\t<view class=\"num\">还剩{{detailFood.surplus}}份</view>\r\n\t\t\t\t\t\t\t\t<view>¥<text class=\"price\">{{proDetailInfo.price}}</text></view>\r\n\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<cartcontrol @add=\"addFood\" @decrease=\"decreaseFood\" :foodInfo=\"detailFood\"></cartcontrol>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"desc\">{{proDetailInfo.productIntr}}</view>\r\n\r\n\t\t\t\t\t\t<view v-if=\"proDetailInfo.energy\">\r\n\t\t\t\t\t\t\t<view class=\"f18 c-2a pb20 pt32 text-bold\">营养成分</view>\r\n\t\t\t\t\t\t\t<view class=\"cu-list menu nutritionList\">\r\n\t\t\t\t\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"nutritionImg\" src=\"../../static/image/meal/nutrition1.png\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<text>能量</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{proDetailInfo.energy}} kcl</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"nutritionImg\" src=\"../../static/image/meal/nutrition2.png\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<text>蛋白质</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{proDetailInfo.protein}} g</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"nutritionImg\" src=\"../../static/image/meal/nutrition3.png\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<text>脂肪</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{proDetailInfo.fat}} g</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"nutritionImg\" src=\"../../static/image/meal/nutrition4.png\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<text>碳水化合物</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{proDetailInfo.carbohydrate}} g</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"cu-item\" v-for=\"(item,index) in proDetailInfo.nutritionList\" v-if=\"moreNutrients\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"nutritionImg\" src=\"../../static/image/meal/nutrition5.png\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{item.value}} {{item.unit}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"text-center\" v-if=\"proDetailInfo.nutritionList.length > 0\">\r\n\t\t\t\t\t\t\t\t<button class=\"cu-btn round\" @tap=\"lookMoreTap\">{{moreNutrients ? '收起' : '查看更多'}}</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view v-if=\"proDetailInfo.foodList.length > 0\">\r\n\t\t\t\t\t\t\t<view class=\"f18 c-2a pb20 pt32 text-bold\">配料组成</view>\r\n\t\t\t\t\t\t\t<view class=\"f14 c-4a pb15\" v-for=\"(item,index) in proDetailInfo.foodList\">{{item.name}}</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 购物车列表面板 start -->\r\n\t\t<view class=\"shopcartPanel cu-modal bottom-modal\" :class=\"shopcartPanelShow?'show':''\" @tap=\"hideList\">\r\n\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\r\n\t\t\t\t<view class=\"cu-bar\">\r\n\t\t\t\t\t<view class=\"f18 c-2a\">已选商品</view>\r\n\t\t\t\t\t<view class=\"emptyBox flex\" @tap=\"empty\">\r\n\t\t\t\t\t\t<image src=\"../../static/image/meal/empty.png\" class=\"img\"></image>\r\n\t\t\t\t\t\t<text>清空</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view scroll-y=\"true\" class=\"content\">\r\n\t\t\t\t\t<scroll-view scroll-x class=\"nav dateCard text-left\" scroll-with-animation :scroll-left=\"scrollCartLeft\">\r\n\t\t\t\t\t\t<view class=\"cu-item\" :class=\"index==shopcartCur?'cur':''\" v-for=\"(item,index) in selectFoods\" :key=\"index\"\r\n\t\t\t\t\t\t @tap.stop=\"tabCartSelect\" :data-id=\"index\">\r\n\t\t\t\t\t\t\t{{item.orderDate.replace(/\\\"/g,'') | filtersDate}}<text class=\"week\">{{item.orderDate.replace(/\\\"/g,'') | filtersWeek}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t<view v-for=\"(item,index) in selectFoods\" :key=\"index\" v-if=\"shopcartCur == index\">\r\n\t\t\t\t\t\t<block v-for=\"(rep,repIndex) in item.repeatList\" :key=\"repIndex\">\r\n\t\t\t\t\t\t\t<view class=\"repastName\">- {{rep.repeatName.replace(/\\\"/g,'')}} -</view>\r\n\t\t\t\t\t\t\t<view class=\"flex align-center shopCartItem\" v-for=\"(food,idex) in rep.food\" @tap=\"productDetail(food)\">\r\n\t\t\t\t\t\t\t\t<image class=\"img\" src=\"../../static/image/meal/default.png\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"mealCon ovh flex1\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-cut\">{{food.productName}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex align-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"price\">¥{{food.price}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<cartcontrol @add=\"addFood\" @decrease=\"decreaseFood\" :foodInfo=\"food\"></cartcontrol>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- 一个菜 end -->\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<!-- 一个餐次 end -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 购物车列表面板 end -->\r\n\t\t<!-- 购物车底部 -->\r\n\t\t<view class=\"shopcart justify-between\" @click=\"toggleList\" v-if=\"currentMenuList.length > 0\">\r\n\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t<view class=\"carCon\">\r\n\t\t\t\t\t<image src=\"../../static/image/meal/car.png\" mode=\"\" class=\"carImg\"></image>\r\n\t\t\t\t\t<view class=\"cu-tag badge\">{{totalCount}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price\" v-show=\"totalPrice\">¥{{totalPrice}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view @tap.stop=\"submitOrder\">\r\n\t\t\t\t<button class=\"cu-btn round\" :disabled=\"totalCount==0\" :class=\"totalCount>0 ? 'bg-cyan' : 'bg-gray'\">去结算</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- end -->\r\n\t\t<m-loading></m-loading>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tformatDate,\r\n\t\tgetWeek,\r\n\t\tgroupBy\r\n\t} from '../../common/util.js'\r\n\timport mLoading from '../../components/m-loading.vue'\r\n\timport cartcontrol from '../../components/cartcontrol/cartcontrol.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tmLoading,\r\n\t\t\tcartcontrol\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmodalName: null,\r\n\t\t\t\tTabCur: 0,\r\n\t\t\t\tscrollLeft: 0,\r\n\t\t\t\tdateList: [],\r\n\r\n\t\t\t\tshopcartCur: 0,\r\n\t\t\t\tscrollCartLeft: 0,\r\n\r\n\t\t\t\tmealRepastCur: 0, //当前餐次\r\n\t\t\t\tscrollMLeft: 0,\r\n\r\n\t\t\t\tmenuDate: [1.2],\r\n\t\t\t\tcurrentLeft: 0, //左侧选中的下标\r\n\t\t\t\tmainCur: 0,\r\n\t\t\t\tverticalNavTop: 0,\r\n\r\n\t\t\t\theightArr: [], //右侧分类的高度累加数组\r\n\t\t\t\tdistance: 0, //记录scroll-view滚动过程中距离顶部的高度\r\n\r\n\t\t\t\tscrollTop: 0, //到顶部的距离\r\n\t\t\t\tfood_detail_mask: false,\r\n\t\t\t\tfoodClass: '',\r\n\t\t\t\tstoreInfo: {\r\n\t\t\t\t\tlogo: '',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tnotice: '',\r\n\t\t\t\t\torderDate: [],\r\n\t\t\t\t\tphone: ''\r\n\t\t\t\t},\r\n\t\t\t\tstoreId: '', //门店id\r\n\t\t\t\tdefaultDate: '',\r\n\t\t\t\tmenuList: [], //具体食谱数据，通过parentId区分\r\n\t\t\t\tdrawerFoodModal: null,\r\n\t\t\t\tproDetailInfo: {}, //菜肴详情\r\n\t\t\t\tdetailFood: {}, //当前菜肴传到详情页\r\n\t\t\t\tmoreNutrients: false, //更多营养成分\r\n\t\t\t\tselectSetFoods: [], //选中的菜肴\r\n\t\t\t\tcartSelectSetFoods: [], //购物车中数据\r\n\t\t\t\tfold: false, // 购物车底部弹框\r\n\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tuni.removeStorageSync('selectfood_storage_key');\r\n\t\t\tthis.storeInfoObj(options.id);\r\n\t\t\tthis.storeId = options.id;\r\n\t\t\t// this.$showLoading(true)\r\n\t\t\t// setTimeout(() => {\r\n\t\t\t// \tthis.$showLoading(false)\r\n\t\t\t// }, 2000)\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tcurrentMenuList() {\r\n\t\t\t\t// for (let j = 0; j < this.menuList.length; j++) {\r\n\t\t\t\t// \tif (\r\n\t\t\t\t// \t\tthis.menuList[j].parentId ==\r\n\t\t\t\t// \t\tthis.currentModuleId + '_' + this.currentRepastId\r\n\t\t\t\t// \t) {\r\n\t\t\t\t// \t\treturn this.menuList[j]\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t\t// return {}\r\n\t\t\t\treturn this.menuList;\r\n\t\t\t},\r\n\t\t\tselectFoods() {\r\n\t\t\t\tlet singleDataArr = [];\r\n\t\t\t\tif (this.selectSetFoods.length == 0) {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t\tlet orderDayModeGroup = groupBy(this.selectSetFoods, (food) => {\r\n\t\t\t\t\treturn food.orderDay\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(orderDayModeGroup)\r\n\t\t\t\tfor (let orderDay in orderDayModeGroup) {\r\n\t\t\t\t\tlet module = {\r\n\t\t\t\t\t\torderDate: orderDay,\r\n\t\t\t\t\t\trepeatList: []\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlet repastIdGroup = groupBy(orderDayModeGroup[orderDay], (food) => {\r\n\t\t\t\t\t\treturn food.repastName\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tfor (let index in repastIdGroup) {\r\n\t\t\t\t\t\tlet repeat = {\r\n\t\t\t\t\t\t\trepeatName: index,\r\n\t\t\t\t\t\t\tfood: repastIdGroup[index]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmodule.repeatList.push(repeat)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(module)\r\n\t\t\t\t\tsingleDataArr.push(module)\r\n\t\t\t\t\treturn singleDataArr\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshopcartPanelShow() {\r\n\t\t\t\tif (!this.totalCount) {\r\n\t\t\t\t\tthis.fold = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tlet show = !this.fold;\r\n\t\t\t\treturn show;\r\n\t\t\t},\r\n\t\t\ttotalCount() {\r\n\t\t\t\tlet count = 0\r\n\t\t\t\tif (this.selectSetFoods.length == 0) return 0\r\n\t\t\t\tthis.selectSetFoods.forEach(food => {\r\n\t\t\t\t\tcount += food.count\r\n\t\t\t\t})\r\n\t\t\t\treturn count\r\n\t\t\t},\r\n\t\t\ttotalPrice() {\r\n\t\t\t\t// debugger\r\n\t\t\t\tlet total = 0\r\n\t\t\t\tif (this.selectSetFoods.length == 0) return ''\r\n\t\t\t\tthis.selectSetFoods.forEach(food => {\r\n\t\t\t\t\ttotal += food.price * food.count\r\n\t\t\t\t})\r\n\t\t\t\treturn total\r\n\t\t\t},\r\n\t\t\tnewOrderDate() {\r\n\t\t\t\tif (!this.storeInfo.orderDate) return {}\r\n\r\n\t\t\t\tlet dateArr = []\r\n\t\t\t\tfor (let i = 0; i < this.storeInfo.orderDate.length; i++) {\r\n\t\t\t\t\tvar item = this.storeInfo.orderDate[i]\r\n\t\t\t\t\tdateArr.push({\r\n\t\t\t\t\t\tdate: item,\r\n\t\t\t\t\t\tdateStr: formatDate(new Date(item), 'MM/dd'),\r\n\t\t\t\t\t\tweek: getWeek(item)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\treturn dateArr\r\n\t\t\t},\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tfiltersDate(time) {\r\n\t\t\t\tlet _date = formatDate(new Date(time), 'MM/dd')\r\n\t\t\t\treturn _date\r\n\t\t\t},\r\n\t\t\tfiltersWeek(time) {\r\n\t\t\t\tlet _date = formatDate(new Date(time), 'yyyy-MM-dd')\r\n\t\t\t\treturn getWeek(_date)\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//获取门店头部信息\r\n\t\t\tasync storeInfoObj(id) {\r\n\t\t\t\tthis.$Api.storeInfo(id).then(res => {\r\n\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\tthis.storeInfo.logo = data.logo\r\n\t\t\t\t\tthis.storeInfo.name = data.name\r\n\t\t\t\t\tthis.storeInfo.notice = data.notice\r\n\t\t\t\t\tthis.storeInfo.orderDate = data.orderDate\r\n\t\t\t\t\tthis.storeInfo.phone = data.phone\r\n\t\t\t\t\tthis.defaultDate = data.orderDate[0]\r\n\t\t\t\t\tthis.storeMenu()\r\n\t\t\t\t}, err => {})\r\n\t\t\t},\r\n\t\t\t//选择日期\r\n\t\t\ttabSelect(e) {\r\n\t\t\t\tlet _date = e.currentTarget.dataset.date;\r\n\t\t\t\tthis.defaultDate = _date\r\n\t\t\t\tthis.storeMenu()\r\n\t\t\t\tthis.TabCur = e.currentTarget.dataset.id;\r\n\t\t\t\tthis.scrollLeft = (e.currentTarget.dataset.id - 1) * 60\r\n\r\n\t\t\t},\r\n\t\t\t//获取菜谱列表\r\n\t\t\tstoreMenu() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tstoreId: this.storeId,\r\n\t\t\t\t\tdate: this.defaultDate\r\n\t\t\t\t}\r\n\t\t\t\tthis.$Api.storeMenu(params).then(res => {\r\n\t\t\t\t\tlet tempMenu = res.data;\r\n\t\t\t\t\tif (!tempMenu.dateValue) return\r\n\t\t\t\t\tthis.menuList = tempMenu.serviceTypeList;\r\n\t\t\t\t\tthis.mealRepastCur = tempMenu.serviceTypeList[0].serviceTypeId;\r\n\t\t\t\t\ttempMenu.serviceTypeList.forEach(v => {\r\n\t\t\t\t\t\tv.categoryList.forEach(m => {\r\n\t\t\t\t\t\t\tm.productList.forEach(n => {\r\n\t\t\t\t\t\t\t\tn.orderDay = tempMenu.dateValue\r\n\t\t\t\t\t\t\t\tn.categoryId = m.categoryId\r\n\t\t\t\t\t\t\t\tn.serviceTypeId = v.serviceTypeId\r\n\t\t\t\t\t\t\t\tn.count = 0\r\n\t\t\t\t\t\t\t\tn.repastName = v.serviceTypeName\r\n\r\n\r\n\t\t\t\t\t\t\t\t//从缓存取数据 更新\r\n\t\t\t\t\t\t\t\tlet selectStorageArray = uni.getStorageSync('selectfood_storage_key');\r\n\t\t\t\t\t\t\t\tif (!selectStorageArray) return true; // continue \r\n\r\n\t\t\t\t\t\t\t\tlet selectFood = selectStorageArray.find(s => s.orderDay == n.orderDay &&\r\n\t\t\t\t\t\t\t\t\ts.serviceTypeId == n.serviceTypeId &&\r\n\t\t\t\t\t\t\t\t\ts.productId == n.productId);\r\n\t\t\t\t\t\t\t\tif (!selectFood) return true; // continue \r\n\r\n\t\t\t\t\t\t\t\tn.count = selectFood.count\r\n\t\t\t\t\t\t\t\tn.surplus = selectFood.surplus\r\n\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.menuList = tempMenu.serviceTypeList\r\n\t\t\t\t\tconsole.log(this.menuList)\r\n\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.selectHeight();\r\n\t\t\t\t\t});\r\n\t\t\t\t}, err => {\r\n\t\t\t\t\tthis.menuList = []\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取菜肴详情\r\n\t\t\tproductDetail(food) {\r\n\t\t\t\tthis.modalName = 'DrawerModalR';\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tprodoctId: food.productId\r\n\t\t\t\t}\r\n\t\t\t\tthis.$Api.productDetail(params).then(res => {\r\n\t\t\t\t\tthis.proDetailInfo = res.data\r\n\t\t\t\t}, err => {})\r\n\t\t\t\tthis.detailFood = food\r\n\t\t\t},\r\n\t\t\t//单选加一\r\n\t\t\taddFood(food) {\r\n\t\t\t\t// debugger\r\n\t\t\t\t// console.log(this.selectSetFoods)\r\n\t\t\t\tthis.updateMenuList(food);\r\n\t\t\t\tlet filterGoods = this.selectSetFoods.filter(n =>\r\n\t\t\t\t\tn.serviceTypeId == food.serviceTypeId &&\r\n\t\t\t\t\tn.productId == food.productId);\r\n\t\t\t\t// debugger\r\n\t\t\t\tif (filterGoods && filterGoods.length > 0) {\r\n\t\t\t\t\tfilterGoods.forEach(n => {\r\n\t\t\t\t\t\tn.count = food.count\r\n\t\t\t\t\t\tn.surplus = food.surplus\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// // filterGoods todo 循环\r\n\t\t\t\t\t// filterGoods[0].count = food.count\r\n\t\t\t\t\t// filterGoods[0].surplus = food.surplus\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.selectSetFoods.push(food)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//从缓存取数据 更新\r\n\t\t\t\tlet selectStorageArray = uni.getStorageSync('selectfood_storage_key');\r\n\t\t\t\tif (!selectStorageArray) selectStorageArray = [];\r\n\t\t\t\tlet selectFood = selectStorageArray.find(n => n.orderDay == food.orderDay &&\r\n\t\t\t\t\tn.serviceTypeId == food.serviceTypeId &&\r\n\t\t\t\t\tn.productId == food.productId);\r\n\t\t\t\tif (selectFood) {\r\n\t\t\t\t\tselectFood.count = food.count;\r\n\t\t\t\t\tselectFood.surplus = food.surplus;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tselectStorageArray.push(food);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.setStorageSync('selectfood_storage_key', selectStorageArray);\r\n\r\n\t\t\t\t// this.fnCartLoad();\r\n\t\t\t\t// debugger\r\n\t\t\t\tconsole.log('addFood数量为：' + food.count)\r\n\t\t\t},\r\n\t\t\t//单选减一\r\n\t\t\tdecreaseFood(food) {\r\n\t\t\t\t// debugger\r\n\t\t\t\tthis.updateMenuList(food);\r\n\t\t\t\tlet filterGoods = this.selectSetFoods.filter(n =>\r\n\t\t\t\t\tn.serviceTypeId == food.serviceTypeId &&\r\n\t\t\t\t\tn.productId == food.productId);\r\n\r\n\t\t\t\tif (filterGoods.length > 0) {\r\n\t\t\t\t\tfilterGoods.forEach(n => {\r\n\t\t\t\t\t\tn.count = food.count\r\n\t\t\t\t\t\tn.surplus = food.surplus\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (food.count == 0) {\r\n\t\t\t\t\t\tlet itemIndex = this.selectSetFoods.findIndex(n =>\r\n\t\t\t\t\t\t\tn.serviceTypeId == food.serviceTypeId &&\r\n\t\t\t\t\t\t\tn.productId == food.productId);\r\n\t\t\t\t\t\tif (itemIndex != -1) {\r\n\t\t\t\t\t\t\tthis.selectSetFoods.splice(itemIndex, 1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//从缓存取数据 更新\r\n\t\t\t\tlet selectStorageArray = uni.getStorageSync('selectfood_storage_key');\r\n\t\t\t\tif (!selectStorageArray) selectStorageArray = [];\r\n\t\t\t\tlet selectFood = selectStorageArray.find(n => n.orderDay == food.orderDay &&\r\n\t\t\t\t\tn.serviceTypeId == food.serviceTypeId &&\r\n\t\t\t\t\tn.productId == food.productId);\r\n\t\t\t\tif (selectFood) {\r\n\t\t\t\t\tselectFood.count = food.count;\r\n\t\t\t\t\tselectFood.surplus = food.surplus;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tselectStorageArray.push(food);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.setStorageSync('selectfood_storage_key', selectStorageArray);\r\n\r\n\t\t\t},\r\n\t\t\t//更新菜谱数据\r\n\t\t\tupdateMenuList(food) {\r\n\t\t\t\tlet rIndex = this.menuList.findIndex(n => n.orderDay == food.orderDay && n.serviceTypeId == food.serviceTypeId)\r\n\t\t\t\tif (rIndex != -1) { //找到了餐\r\n\t\t\t\t\tthis.menuList[rIndex].categoryList.forEach(n => {\r\n\t\t\t\t\t\tlet foodIndex = n.productList.findIndex(n => n.productId == food.productId)\r\n\t\t\t\t\t\tif (foodIndex != -1) {\r\n\t\t\t\t\t\t\tn.productList[foodIndex].count = food.count;\r\n\t\t\t\t\t\t\tn.productList[foodIndex].surplus = food.surplus;\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//清空购物车todo\r\n\t\t\tempty() {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '清空购物车？',\r\n\t\t\t\t\tcancelText: '取消',\r\n\t\t\t\t\tconfirmText: '清空',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.removeStorageSync('selectfood_storage_key');\r\n\t\t\t\t\t\t\t_this.selectFoods.forEach(food => {\r\n\t\t\t\t\t\t\t\tfood.count = 0\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//购物车弹起面板\r\n\t\t\ttoggleList() {\r\n\t\t\t\tif (!this.totalCount) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.fold = !this.fold\r\n\t\t\t},\r\n\t\t\thideList() {\r\n\t\t\t\tthis.fold = !this.fold\r\n\t\t\t},\r\n\t\t\t// 拨打电话\r\n\t\t\tmakePhoneCall() {\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: this.storeInfo.phone,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tconsole.log(\"成功拨打电话\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlookMoreTap() {\r\n\t\t\t\tthis.moreNutrients = !this.moreNutrients\r\n\t\t\t},\r\n\t\t\tshowModal(e) {\r\n\t\t\t\tlet val = e.currentTarget.dataset.target\r\n\t\t\t\tif (val) this.modalName = null\r\n\t\t\t\tthis.modalName = val\r\n\t\t\t},\r\n\t\t\thideModal(e) {\r\n\t\t\t\tthis.modalName = null\r\n\t\t\t},\r\n\t\t\ttabCartSelect(e) {\r\n\t\t\t\tthis.shopcartCur = e.currentTarget.dataset.id;\r\n\t\t\t\tthis.scrollCartLeft = (e.currentTarget.dataset.id - 1) * 60\r\n\t\t\t},\r\n\t\t\tmealTimeSelect(e) {\r\n\t\t\t\tthis.mealRepastCur = e.currentTarget.dataset.id;\r\n\t\t\t\tthis.scrollMLeft = (e.currentTarget.dataset.id - 1) * 60\r\n\t\t\t},\r\n\t\t\t// 菜谱\r\n\t\t\tleftTap(e) {\r\n\t\t\t\tlet index = e.currentTarget.dataset.index;\r\n\t\t\t\tthis.currentLeft = index;\r\n\t\t\t\tthis.mainCur = index\r\n\t\t\t\tthis.verticalNavTop = (index - 1) * 48\r\n\t\t\t},\r\n\t\t\t//计算右侧每一个分类的高度，在数据请求成功后请求即可\r\n\t\t\tselectHeight() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthis.heightArr = [];\r\n\t\t\t\tlet h = 0;\r\n\t\t\t\tconst query = uni.createSelectorQuery();\r\n\t\t\t\tquery.selectAll('.mainMeal').boundingClientRect();\r\n\t\t\t\tquery.exec(function(res) {\r\n\t\t\t\t\tres[0].forEach((item) => {\r\n\t\t\t\t\t\th += item.height;\r\n\t\t\t\t\t\tthat.heightArr.push(h);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// console.log('菜谱高度：')\r\n\t\t\t\t\t// console.log(that.heightArr);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//监听scroll-view的滚动事件\r\n\t\t\tverticalMain(event) {\r\n\t\t\t\tif (this.heightArr.length == 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet scrollTop = event.detail.scrollTop;\r\n\t\t\t\tlet current = this.currentLeft;\r\n\t\t\t\tif (scrollTop >= this.distance) { //页面向上滑动\r\n\t\t\t\t\t//如果右侧当前可视区域最底部到顶部的距离 超过 当前列表选中项距顶部的高度（且没有下标越界），则更新左侧选中项\r\n\t\t\t\t\tif (current + 1 < this.heightArr.length && scrollTop >= this.heightArr[current]) {\r\n\t\t\t\t\t\tthis.currentLeft = current + 1\r\n\t\t\t\t\t\tthis.verticalNavTop = (current - 1) * 48\r\n\t\t\t\t\t}\r\n\t\t\t\t} else { //页面向下滑动\r\n\t\t\t\t\t//如果右侧当前可视区域最顶部到顶部的距离 小于 当前列表选中的项距顶部的高度，则更新左侧选中项\r\n\t\t\t\t\tif (current - 1 >= 0 && scrollTop < this.heightArr[current - 1]) {\r\n\t\t\t\t\t\tthis.currentLeft = current - 1\r\n\t\t\t\t\t\tthis.verticalNavTop = (current - 1) * 48\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(this.distance)\r\n\t\t\t\t//更新到顶部的距离\r\n\t\t\t\tthis.distance = scrollTop;\r\n\t\t\t},\r\n\t\t\t//end\r\n\r\n\t\t\taddCart() {\r\n\t\t\t\tconsole.log('加入购物车')\r\n\t\t\t},\r\n\t\t\tlookFood() {\r\n\t\t\t\tthis.food_detail_mask = true\r\n\t\t\t\tthis.foodClass = 'foodEnter'\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 跳转订单页\r\n\t\t\t * 清空购物车，清空缓存 todo\r\n\t\t\t */\r\n\t\t\tsubmitOrder() {\r\n\t\t\t\tlet selectStorageArray = uni.getStorageSync('selectfood_storage_key');\r\n\t\t\t\tconsole.log(selectStorageArray)\r\n\t\t\t\tthis.$store.commit('setOrderMenuList', selectStorageArray);\r\n\t\t\t\tuni.removeStorageSync('selectfood_storage_key');\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `../confirmOrder/confirmOrder?storeId=${this.storeId}`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.cu-custom .cu-bar {\r\n\t\t&.bg-hyaline {\r\n\t\t\tpadding-top: 66rpx;\r\n\r\n\t\t\t.content {\r\n\t\t\t\ttop: 66rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpage {\r\n\t\tbackground: #FFFFFF;\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.response {\r\n\t\t// background: #EFA720;\r\n\t\tdisplay: block;\r\n\t\tfilter: blur(2px);\r\n\t\t// height: 160rpx;\r\n\t\theight: 240rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.topWrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 96rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.homeTop {\r\n\t\tbackground: #FFFFFF;\r\n\t\tbox-shadow: 0 4rpx 16rpx 0 rgba(0, 0, 0, 0.05);\r\n\t\tborder-radius: 12rpx;\r\n\t\tmargin: 0 28rpx;\r\n\t\tpadding: 32rpx;\r\n\t\tfont-size: 36rpx;\r\n\t\tcolor: #2A2A2A;\r\n\t\tposition: absolute;\r\n\t\ttop: -95rpx;\r\n\t\twidth: calc(100% - 56rpx);\r\n\r\n\t\t.logoImg {\r\n\t\t\twidth: 120rpx;\r\n\t\t\theight: 120rpx;\r\n\t\t\tborder-radius: 4rpx;\r\n\t\t\tbackground: #EFA720;\r\n\r\n\t\t\t.img {\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 120rpx;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.R {\r\n\t\t\twidth: calc(100% - 120rpx);\r\n\t\t\tpadding-left: 24rpx;\r\n\r\n\t\t\t.phoneCon {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tpadding-left: 30rpx;\r\n\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 0;\r\n\t\t\t\t\ttop: 6rpx;\r\n\t\t\t\t\twidth: 2rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tbackground: #E8E8E8;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.pimg {\r\n\t\t\t\t\twidth: 32rpx;\r\n\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.notice {\r\n\t\t\t\tpadding-top: 18rpx;\r\n\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\tcolor: #6A6A6A;\r\n\r\n\t\t\t\t.nimg {\r\n\t\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\t\twidth: 36rpx;\r\n\t\t\t\t\theight: 36rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.dateCard {\r\n\t\tpadding: 30rpx 0 32rpx 18rpx;\r\n\r\n\t\t.cu-item {\r\n\t\t\theight: auto;\r\n\t\t\tline-height: normal;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #4EC09B;\r\n\t\t\tborder: 2rpx solid #4EC09B;\r\n\t\t\tborder-radius: 8rpx;\r\n\t\t\tpadding: 11rpx 20rpx;\r\n\r\n\t\t\t.week {\r\n\t\t\t\tpadding-left: 8rpx;\r\n\t\t\t}\r\n\r\n\t\t\t&.cur {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t\tbackground: #4EC09B;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.mealTimes {\r\n\t\tpadding-bottom: 32rpx;\r\n\r\n\t\t.cu-item {\r\n\t\t\theight: 62rpx;\r\n\t\t\tline-height: 62rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tmargin: 0 30rpx 0 10rpx;\r\n\t\t\tcolor: #5a5959;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&.cur {\r\n\t\t\t\tcolor: #000;\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\tmargin-left: -20rpx;\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 6rpx;\r\n\t\t\t\t\tbackground: #4EC09B;\r\n\t\t\t\t\tborder-radius: 3rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// 菜谱列表 578rpx\r\n\t.verticalBox {\r\n\t\tdisplay: flex;\r\n\t\t// height: calc(100vh - 160rpx - 96rpx - 120rpx - 62rpx - 32rpx - 108rpx);\r\n\r\n\t\t.VerticalNav.nav {\r\n\t\t\twidth: 180rpx;\r\n\t\t\t// height: calc(100vh - 578rpx);\r\n\t\t\twhite-space: initial;\r\n\t\t\tbackground: #FAFAFA;\r\n\t\t}\r\n\r\n\t\t.VerticalNav.nav .cu-item {\r\n\t\t\twidth: 100%;\r\n\t\t\ttext-align: center;\r\n\t\t\tbackground-color: #FAFAFA;\r\n\t\t\tmargin: 0;\r\n\t\t\tborder: none;\r\n\t\t\theight: 96rpx;\r\n\t\t\tline-height: 96rpx;\r\n\t\t\tposition: relative;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #6A6A6A;\r\n\t\t\tdisplay: -webkit-box;\r\n\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t-webkit-line-clamp: 1;\r\n\t\t\toverflow: hidden;\r\n\t\t\tword-break: break-all;\r\n\t\t}\r\n\r\n\t\t.VerticalNav.nav .cu-item.cur {\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\tcolor: #2A2A2A;\r\n\t\t}\r\n\r\n\t\t.VerticalNav.nav .cu-item.cur::after {\r\n\t\t\tcontent: \"\";\r\n\t\t\twidth: 10rpx;\r\n\t\t\theight: 32rpx;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tposition: absolute;\r\n\t\t\tbackground: #4EC09B;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tmargin: auto;\r\n\t\t}\r\n\r\n\t\t.VerticalMain {\r\n\t\t\tflex: 1;\r\n\r\n\t\t\t// height: calc(100vh - 578rpx);\r\n\t\t\t.mainMeal {\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\tpadding-bottom: 36rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.title {\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tcolor: #4A4A4A;\r\n\t\t\t\tpadding: 26rpx 0;\r\n\t\t\t}\r\n\r\n\t\t\t.menuList {\r\n\t\t\t\t.item {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tmargin: 0 0 36rpx;\r\n\t\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\tmargin: 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.panel_left {\r\n\t\t\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\twidth: 160rpx;\r\n\t\t\t\t\t\t\theight: 160rpx;\r\n\t\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.tag {\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\t\ttop: 0;\r\n\t\t\t\t\t\t\tbackground: linear-gradient(to right, #FFD444, #FFB023);\r\n\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\t\t\tpadding: 2rpx 10rpx;\r\n\t\t\t\t\t\t\tborder: 2rpx solid #FFFFFF;\r\n\t\t\t\t\t\t\tborder-radius: 8rpx 0 16rpx 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.panel_right {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\tpadding-left: 24rpx;\r\n\r\n\t\t\t\t\t\t.mealName {\r\n\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t\tcolor: #2A2A2A;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.desc {\r\n\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\tcolor: #6A6A6A;\r\n\t\t\t\t\t\t\tpadding-top: 4rpx;\r\n\r\n\t\t\t\t\t\t\t.tipImg {\r\n\t\t\t\t\t\t\t\twidth: 24rpx;\r\n\t\t\t\t\t\t\t\theight: 24rpx;\r\n\t\t\t\t\t\t\t\tmargin-right: 4rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.mealCon {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\t\tpadding-left: 28rpx;\r\n\r\n\t\t\t\t\t\t\t.price {\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tcolor: #FF4D23;\r\n\r\n\t\t\t\t\t\t\t\t.f18 {\r\n\t\t\t\t\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.cartcontrol-wrapper {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\r\n\t\t.iconfont {\r\n\t\t\tfont-size: 48rpx;\r\n\t\t\tcolor: #4EC09B;\r\n\t\t}\r\n\r\n\t\t.soldOut {\r\n\t\t\tdisplay: none;\r\n\r\n\t\t\t.iconfont {\r\n\t\t\t\tcolor: #D6D6D6;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.cart-count {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #4A4A4A;\r\n\t\t\tpadding: 4rpx 16rpx 0;\r\n\t\t}\r\n\t}\r\n\r\n\t//购物车\r\n\t.shopcart {\r\n\t\tposition: relative;\r\n\t\tz-index: 1111;\r\n\t\theight: 108rpx;\r\n\t\toverflow: hidden;\r\n\t\t// box-sizing: border-box;\r\n\t\tbackground: #FFFFFF;\r\n\t\tpadding: 0 28rpx;\r\n\t\tborder-top: 1rpx solid #F2F2F2;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\r\n\t\t.carCon {\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.carImg {\r\n\t\t\t\twidth: 60rpx;\r\n\t\t\t\theight: 56rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.cu-tag.badge:not([class*=\"bg-\"]) {\r\n\t\t\t\tbackground: #FF4D23;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tpadding: 12rpx 8rpx 8rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.cu-tag.badge {\r\n\t\t\t\ttop: -2rpx;\r\n\t\t\t\tright: -14rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.price {\r\n\t\t\tfont-size: 52rpx;\r\n\t\t\tcolor: #FF4D23;\r\n\t\t\tmargin-left: 48rpx;\r\n\t\t}\r\n\r\n\t\t.cu-btn {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\tpadding: 0 56rpx;\r\n\t\t\t// margin-top: -6rpx;\r\n\t\t}\r\n\r\n\t\t.bg-gray {\r\n\t\t\tbackground: #C0C0C0;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t}\r\n\t}\r\n\r\n\t.blankContent {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #6A6A6A;\r\n\t\tline-height: 42rpx;\r\n\r\n\t\t.img {\r\n\t\t\twidth: 320rpx;\r\n\t\t\theight: 320rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.cu-modal.bottom-modal .cu-dialog {\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 24rpx 24rpx 0 0;\r\n\t}\r\n\r\n\t.shopNoticeDialog {\r\n\t\tpadding: 40rpx 28rpx;\r\n\r\n\t\t.top {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.txt {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tcolor: #2A2A2A;\r\n\t\t\t}\r\n\r\n\t\t\t.cuIcon-close {\r\n\t\t\t\tcolor: #C0C0C0;\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\twidth: 36rpx;\r\n\t\t\t\tmargin-left: 42rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.content {\r\n\t\t\ttext-align: left;\r\n\t\t\tpadding: 50rpx 0 10rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #2A2A2A;\r\n\r\n\t\t\t.nImg {\r\n\t\t\t\twidth: 44rpx;\r\n\t\t\t\theight: 44rpx;\r\n\t\t\t\tmargin-right: 12rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.txt {\r\n\t\t\t\theight: 400rpx;\r\n\t\t\t\tpadding: 30rpx 0 0;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #4A4A4A;\r\n\t\t\t\tline-height: 40rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 菜肴详情 */\r\n\t.foodDescDiv {\r\n\t\ttop: 0;\r\n\t\theight: 100vh;\r\n\r\n\t\t.foodDescScroll {\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\r\n\t\t.headImg {\r\n\t\t\tposition: relative;\r\n\t\t\theight: 750rpx;\r\n\r\n\t\t\t.foodImg {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 750rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.closeImg {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 50rpx;\r\n\t\t\t\ttop: 160rpx;\r\n\t\t\t\twidth: 70rpx;\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.foodDesWrap {\r\n\t\t\ttext-align: left;\r\n\t\t\tpadding: 40rpx 28rpx;\r\n\r\n\t\t\t.name {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tcolor: #2A2A2A;\r\n\t\t\t}\r\n\r\n\t\t\t.hd {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tpadding: 24rpx 0;\r\n\r\n\t\t\t\t.L {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #FF4D23;\r\n\r\n\t\t\t\t\t.num {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #6A6A6A;\r\n\t\t\t\t\t\tpadding-right: 32rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.price {\r\n\t\t\t\t\t\tfont-size: 44rpx;\r\n\t\t\t\t\t\tpadding-left: 6rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.tag {\r\n\t\t\t\t\t\tmargin-left: 32rpx;\r\n\t\t\t\t\t\tbackground: linear-gradient(to right, #FFD444, #FFB023);\r\n\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\t\tpadding: 2rpx 10rpx;\r\n\t\t\t\t\t\tborder: 2rpx solid #FFFFFF;\r\n\t\t\t\t\t\tborder-radius: 0 16rpx 16rpx 16rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.cart-count {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #4A4A4A;\r\n\t\t\t\t\tpadding: 4rpx 16rpx 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.iconfont {\r\n\t\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.desc {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #4A4A4A;\r\n\t\t\t}\r\n\r\n\t\t\t.nutritionList {\r\n\t\t\t\t&.cu-list.menu>.cu-item {\r\n\t\t\t\t\tpadding: 0 0 32rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #2A2A2A;\r\n\t\t\t\t\tmin-height: auto;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.cu-list.menu>.cu-item .content>image {\r\n\t\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.cu-list.menu-avatar>.cu-item:after,\r\n\t\t\t\t&.cu-list.menu>.cu-item:after {\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.content {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #4A4A4A;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.nutritionImg {\r\n\t\t\t\t\twidth: 48rpx;\r\n\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.cu-btn {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #6A6A6A;\r\n\t\t\t\tbackground: #F4F4F4;\r\n\t\t\t\tpadding: 0 40rpx;\r\n\t\t\t\tmargin-top: 8rpx;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.cu-modal.drawer-modal .cu-dialog {\r\n\t\tmin-width: 100%;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t// 购物车面板\r\n\t.shopcartPanel {\r\n\t\t.cu-dialog {\r\n\t\t\theight: 900rpx;\r\n\t\t\tpadding-bottom: 108rpx;\r\n\t\t}\r\n\r\n\t\t.cu-bar {\r\n\t\t\tpadding: 32rpx 28rpx;\r\n\t\t\tmin-height: auto;\r\n\t\t}\r\n\r\n\t\t.emptyBox {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #6A6A6A;\r\n\r\n\t\t\t.img {\r\n\t\t\t\twidth: 36rpx;\r\n\t\t\t\theight: 36rpx;\r\n\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\tmargin-top: 2rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.content {\r\n\t\t\tpadding: 0 28rpx;\r\n\t\t\theight: 680rpx;\r\n\r\n\t\t\t.dateCard {\r\n\t\t\t\tpadding: 0 0 12rpx;\r\n\r\n\t\t\t\t.cu-item {\r\n\t\t\t\t\theight: auto;\r\n\t\t\t\t\tline-height: normal;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #4EC09B;\r\n\t\t\t\t\tborder: 2rpx solid #4EC09B;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\tpadding: 11rpx 20rpx;\r\n\t\t\t\t\tmargin: 0 20rpx 0 0;\r\n\r\n\t\t\t\t\t.week {\r\n\t\t\t\t\t\tpadding-left: 8rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.cur {\r\n\t\t\t\t\t\tborder-bottom: none;\r\n\t\t\t\t\t\tbackground: #4EC09B;\r\n\t\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.repastName {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tcolor: #4A4A4A;\r\n\t\t\t\tpadding: 20rpx 0 24rpx;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\r\n\t\t\t.shopCartItem {\r\n\t\t\t\tmargin-bottom: 24rpx;\r\n\r\n\t\t\t\t.img {\r\n\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.text-cut {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #2A2A2A;\r\n\t\t\t\t\ttext-align: left;\r\n\t\t\t\t\tpadding-bottom: 20rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.price {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #FF4D23;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\_setup\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1609404450924\n      var cssReload = require(\"D:/_setup/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}